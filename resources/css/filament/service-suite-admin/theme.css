/*
  Importamos el tema base de Filament.
*/
@import "../../../../vendor/filament/filament/resources/css/theme.css";

/*
  Estilos para las páginas de autenticación (Login, Registro, etc.).
  Usamos :has() para aplicar los estilos al body solo si contiene el <main>
  de las páginas simples, excluyendo el dashboard.
*/
body:has(main.fi-simple-main) {
    /* 1. Imagen de fondo */
    background-image: url('/images/background.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

/* 2. Overlay oscuro sobre la imagen de fondo */
body:has(main.fi-simple-main)::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Negro con 50% de opacidad */
    z-index: 1; /* El overlay tiene un z-index bajo */
}

/*
  Levantamos el contenedor <main> por encima del overlay.
*/
main.fi-simple-main {
    position: relative; /* Crea un contexto de apilamiento */
    z-index: 2; /* Lo pone por encima del overlay (que tiene z-index: 1) */
}


/* 3. Estilos para el formulario (efecto cristal/glassmorphism) */
.fi-auth-card {
    /* Efecto de cristal */
    background-color: rgba(255, 255, 255, 0.1); /* Fondo blanco muy transparente */
    backdrop-filter: blur(10px); /* El efecto de desenfoque clave */
    -webkit-backdrop-filter: blur(10px); /* Para compatibilidad con Safari */

    /* Bordes y sombra */
    border: 1px solid rgba(255, 255, 255, 0.2); /* Borde sutil */
    border-radius: 1.5rem; /* Bordes más redondeados */
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); /* Sombra para dar profundidad */
}

/* Ajuste de color para el texto dentro del formulario para asegurar legibilidad */
.fi-auth-card h2,
.fi-auth-card .fi-input,
.fi-auth-card label,
.fi-auth-card .fi-btn {
    color: #ffffff; /* Hacemos el texto blanco */
}

.fi-auth-card .fi-input {
    background-color: rgba(255, 255, 255, 0.2); /* Fondo de los inputs ligeramente visible */
    border-color: rgba(255, 255, 255, 0.3);
}

/* Placeholder text color */
.fi-auth-card .fi-input::placeholder {
    color: rgba(255, 255, 255, 0.7);
}

/*
--------------------------------------------------------------------------
 Estilos para la Barra de Navegación Superior (Topbar) - MODO OSCURO PERSISTENTE
--------------------------------------------------------------------------
*/

/* 1. Fondo de cristal para toda la barra superior, forzado en ambos modos */
.fi-topbar {
    background-color: rgba(17, 24, 39, 1) !important; /* Fondo oscuro semitransparente (gray-900) */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* 2. Color del texto forzado a claro en ambos modos */
.fi-topbar .fi-topbar-item .fi-topbar-item-label,
.fi-topbar .fi-user-menu-trigger span {
    color: #d1d5db !important; /* gray-300 */
}
.fi-topbar .fi-topbar-item .fi-topbar-item-icon,
.fi-topbar .fi-user-menu-trigger svg {
    color: #9ca3af !important; /* gray-400 */
}

/* 3. Estilo para el elemento de menú ACTIVO, forzado en ambos modos */
.fi-topbar .fi-topbar-item.fi-active {
    border-bottom: 3px solid #6366f1; /* Borde inferior AZUL MARINO (Indigo-500) */
}

/* Texto e icono del item activo más brillantes, forzado en ambos modos */
.fi-topbar .fi-topbar-item.fi-active .fi-topbar-item-label {
    color: #ffffff !important;
    font-weight: 600;
}
.fi-topbar .fi-topbar-item.fi-active .fi-topbar-item-icon {
    color: #ffffff !important;
}

/* 4. Efecto al pasar el ratón (hover), forzado en ambos modos */
.fi-topbar .fi-topbar-item:not(.fi-active):hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Forzar el color del texto en el hover también */
.fi-topbar .fi-topbar-item:not(.fi-active):hover .fi-topbar-item-label,
.fi-topbar .fi-topbar-item:not(.fi-active):hover .fi-topbar-item-icon {
    color: #ffffff !important;
}

/*
--------------------------------------------------------------------------
 Estilos para la Barra de Navegación Lateral (Sidebar) - MODO CLARO Y OSCURO
--------------------------------------------------------------------------
*/

/* --- ESTILOS BASE (MODO CLARO) --- */

/* 1. Fondo y texto por defecto */
.fi-sidebar {
    background-color: #ffffff;
}
.fi-sidebar-item .fi-sidebar-item-label {
    color: #374151; /* gray-700 */
}
.fi-sidebar-item .fi-sidebar-item-icon {
    color: #6b7280; /* gray-500 */
}
.fi-sidebar-header {
    border-bottom: 1px solid #e5e7eb; /* gray-200 */
}

/* 2. Item activo en modo claro */
.fi-sidebar-item.fi-active {
    background-color: #f3f4f6; /* gray-100 */
    border-left: 3px solid #0E10C2; /* Borde AZUL MARINO */
}
.fi-sidebar-item.fi-active .fi-sidebar-item-label {
    color: #111827; /* gray-900 */
    font-weight: 600;
}
.fi-sidebar-item.fi-active .fi-sidebar-item-icon {
    color: #4f46e5; /* Indigo-600, un poco más oscuro que el borde */
}

/* 3. Hover en modo claro */
.fi-sidebar-item:not(.fi-active):hover {
    background-color: #f9fafb; /* gray-50 */
}


/* --- SOBREESCRITURAS (MODO OSCURO) --- */

/* 1. Fondo y texto en modo oscuro */
.dark .fi-sidebar {
    background-color: var(--gray-900); /* Color sólido para coincidir con forms/tables */
}
.dark .fi-sidebar-item .fi-sidebar-item-label {
    color: #d1d5db; /* gray-300 */
}
.dark .fi-sidebar-item .fi-sidebar-item-icon {
    color: #9ca3af; /* gray-400 */
}
.dark .fi-sidebar-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* 2. Item activo en modo oscuro */
.dark .fi-sidebar-item.fi-active {
    background-color: rgba(255, 255, 255, 0.05);
    /* El borde azul marino ya está definido en el modo claro, no hace falta repetirlo */
}
.dark .fi-sidebar-item.fi-active .fi-sidebar-item-label,
.dark .fi-sidebar-item.fi-active .fi-sidebar-item-icon {
    color: #ffffff;
}

/* 3. Hover en modo oscuro (con el color más claro del fondo) */
.dark .fi-sidebar-item:not(.fi-active):hover {
    background-color: #334155; /* Slate-700 */
}

/*
--------------------------------------------------------------------------
 Estilos para Inputs de Formularios (Modo Claro)
--------------------------------------------------------------------------
*/

/*
  Hacemos los inputs más visibles en modo claro añadiendo un borde
  más notorio. Estos estilos no afectarán al modo oscuro.
*/
.fi-input-wrapper {
    border: 1px solid #d1d5db; /* Borde gris-300, más visible que el por defecto */
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

/*
  Mejoramos el estado de foco para que sea más claro qué input está activo.
*/
.fi-input-wrapper:focus-within {
    border-color: #6366f1; /* Color primario azul marino */
    box-shadow: 0 0 0 1px #6366f1; /* Anillo de foco del mismo color */
}

/*
--------------------------------------------------------------------------
 Estilos para el Fondo del "Lienzo" Principal (Modo Claro)
--------------------------------------------------------------------------
*/

/*
  En modo claro, aplicamos un fondo gris claro al <body> de las páginas
  del panel (las que tienen navegación) para que los componentes blancos resalten.
*/
body.fi-body-has-navigation {
    background-color: #f3f4f6; /* gray-100 */
}

/*
  En modo oscuro, restauramos el color de fondo oscuro por defecto de Filament
  para mantener la consistencia.
*/
.dark body.fi-body-has-navigation {
    background-color: var(--gray-950);
}
